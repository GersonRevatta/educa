<!-- Form -->
<center>
  <%= form_for (@course),  :url => { :action => :create }  do |f| %>
   <!-- Mensajes de error  -->
  <% if @course.errors.any? %>
    <div id="errorExplanation">
      <h2><%= pluralize(@course.errors.count, "error") %> prohibited
        this post from being saved:</h2>
      <ul>
        <% @course.errors.full_messages.each do |msg| %>
          <li><%= msg %></li>
        <% end %>
      </ul>
    </div>
  <% end %>
  <!-- campos -->
  <p>
    <%= f.label :title %><br>
    <%= f.text_field :title ,:placeholder => 'Titulo' %>
  </p>

  <p>
    <%= f.label :description %><br>
    <%= f.text_area :description  ,:placeholder => 'Descipcion' %>
  </p>
  
  <p>
    <%= f.file_field :avatar , :id => 'imagen' ,:accept =>'.pdf,.gif,.jpeg,.jpg' %>
  </p>
  <p>
    <div id="imagePreview"></div>
  </p>
  <p>
    <%= f.submit %>
  </p>
<% end %>
<br>
</center>


<!-- list -->
<center>
<h3> List </h3>

  <% @Courses.each do |i| %>
  <div class="list">
    
    <p>Title: <%= i.title %></p>
    <p>
    <%= image_tag i.avatar.url(:thumb) %>
    </p>
    |<%= link_to "show",{ :action => :show, :id => i.id }  %>
    |<%= link_to "Edit",{ :action => :edit, :id => i.id }  %>
    
    | 
    <%= link_to "Eliminar",{ :action => :destroy, :id => i.id } , :method => :delete ,data: { confirm: '¿Estás seguro?' }  %>
  </div>
  <br>
  <% end %>

       
</center>
     
<script>
  (function(){
    function filePreview(input){
      if(input.files && input.files[0]){
        var reader = new FileReader();
        reader.onload = function(e){
          $('#imagePreview').html("<img  src='"+e.target.result+"' />");
        }
        reader.readAsDataURL(input.files[0]);
      }

    }
    $('#imagen').change(function(){
      filePreview(this);
    });
  })();
</script>
         <style>
         /* pre visualizacion form */
      img {
        max-width: 50px;
        height: auto;
      }

      /* List */
      .list{
        height: 200px;
        width: 500px;
        border: solid 1px red;
      }

         </style>